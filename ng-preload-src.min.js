/*! ng-preload-src - v 0.0.1 - Mon Apr 21 2014 20:03:38 GMT+0800 (CST)
 * https://github.com/tomchentw/ng-preload-src
 * Copyright (c) 2014 [tomchentw](https://github.com/tomchentw);
 * Licensed [MIT](http://tomchentw.mit-license.org)
 */
(function(){angular.module("ng-preload-src",[]).service("ImgPreloader",["$document","$q"].concat(function(e,r){function n(e){this.url=e,this.defer=r.defer()}var t,o;return t=angular.element,o=t('<div class="ng-hide"></div>'),e.find("body").append(o),n.prototype.load=function(){var e,r,n;return e=this.url,r=this.defer,n=t("<img src='"+e+"'>"),n.on("load",function(){n.remove(),r.resolve(e)}),o.append(n),r.promise},n})).directive("preloadWithDefaultSrc",["$interpolate","ImgPreloader"].concat(function(e,r){function n(e,n){new r(n).load().then(e)}function t(r,t,a){r.$watch(e(a.preloadSrc),o(void 0,n,o(a,a.$set,"ngSrc")))}var o;return o=angular.bind,{compile:function(e,r){return r.$set("preloadSrc",r.ngSrc),r.$set("ngSrc",r.preloadWithDefaultSrc),t}}}))}).call(this);